<!--
homebridge-deconz/homebridge-ui/public/index.html

Homebridge plug-in for deCONZ.
Copyright Â© 2022 Erik Baauw. All rights reserved.
-->

<link rel="stylesheet" href="style.css">

<script>
(async () => {
  try {
    homebridge.showSchemaForm()

    // const pluginConfig = await homebridge.getPluginConfig()
    // const pluginConfigSchema = await homebridge.getPluginConfigSchema()
    const cachedAccessories = await homebridge.getCachedAccessories()

    const result = await homebridge.request('/cachedAccessories', cachedAccessories)
    const nGateways = Object.keys(result).length
    homebridge.toast.success(`${nGateways} gateways`)
  } catch (error) {
    console.error(error)
  }
})()
</script>
